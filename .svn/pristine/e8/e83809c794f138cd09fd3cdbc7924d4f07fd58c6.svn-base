iSlider.prototype.extend({_checkDevice:function(){var a={win:false,mac:false,xll:false,ipad:false};var b=navigator.platform;a.win=b.indexOf("Win")===0;a.mac=b.indexOf("Mac")===0;a.xll=(b==="X11")||(b.indexOf("Linux")===0);a.ipad=(navigator.userAgent.match(/iPad/i)!==null)?true:false;if(a.xll||a.ipad){return true}return false},renderDot:function(f){this.dotMenuOpts=f||{};var c=this.data;var e=c.length;var b=this.wrap;var a=[];this._setDotAttr();var h=document.createElement("ul");h.className=f.className||" ";h.style.cssText+="width: "+this.dotWidth+";height: "+this.dotHeight+";margin: "+this.dotMargin+";position: "+this.dotPosition+";padding: "+this.dotPadding+";left: "+this.dotLeft+";right: "+this.dotRight+";bottom: "+this.dotBottom+";top: "+this.dotTop+";z-index: "+this.dotZindex+";text-align: "+this.dotAlignment+";";b.parentNode.insertBefore(h,b.nextSibling);var g=document.createDocumentFragment();for(var d=0;d<e;d++){var j=document.createElement("li");j.id="point"+d;j.style.cssText+="position: "+this.dotPtPosition+";display: "+this.dotPtDisplay+";width: "+this.dotPtWidth+";height: "+this.dotPtHeight+";border-radius: "+this.dotPtBorderRadius+";border: "+this.dotPtBorder+" "+this.dotPtBorderColor+";list-style-type: "+this.dotPtListStyleType+";margin: "+this.dotPtMargin+";";if(d===0){j.style.cssText+="background-color: "+this.dotPtBGColor+";"}a.push(j);this._bindTouchEvent(j,this._bindTouchEventDot);g.appendChild(j)}h.appendChild(g);this.pointList=a},_setDotAttr:function(){var a=this.dotMenuOpts;this.dotPadding="0";this.dotPosition="absolute";this.dotLeft=a.left||"0";this.dotRight=a.right||"0";this.dotTop=a.top||"0";this.dotBottom=a.bottom||"0";this.dotZindex="10000";this.dotAlignment="center";if(a.isVertical&&a.isVertical===true){this.dotWidth=a.width||"10%";this.dotHeight=a.height||"50%";this.dotMargin="auto 0"}else{this.dotWidth=a.width||"50%";this.dotHeight=a.height||"10%";this.dotMargin="0 auto"}this.dotPtPosition="relative";this.dotPtWidth=a.diameter||"1em";this.dotPtHeight=a.diameter||"1em";this.dotPtBorderRadius="50%";this.dotPtBorder="1px solid";this.dotPtBorderColor=a.borderColor||"#fff";this.dotPtListStyleType="none";this.dotPtMargin="5px";this.dotPtBGColor=a.borderColor||"#fff";if(a.isVertical&&a.isVertical===true){this.dotPtDisplay="block"}else{this.dotPtDisplay="inline-block"}},changeIndexDot:function(){var f=this.dotMenuOpts;var c=this.slideIndex;var e=this.data;var b=e.length;var a=this.pointList;for(var d=0;d<b;d++){a[d].style.backgroundColor="";if(d===c){a[d].style.backgroundColor=f.borderColor||"#fff"}}},_bindTouchEventDot:function(b){var c=this.self;var a=parseInt(b.target.id.substring(5));c.slideTo(a)},renderBtn:function(a){this.btnMenuOpts=a||{};var e=this.wrap;this._setBtnAttr();var d=[];var c=[];for(var b=0;b<2;b++){d[b]=document.createElement("div");d[b].className=a.className||" ";d[b].style.cssText+="position: "+this.btnLayerPosition+";width: "+this.btnLayerWidth+";height: "+this.btnLayerHeight+";cursor: "+this.btnLayerCursor+";background-color: "+this.btnLayerBGColor+";";c[b]=document.createElement("div");c[b].style.cssText+="position: "+this.btnLayerChildPosition+";width: "+this.btnLayerChildWidth+";height: "+this.btnLayerChildHeight+";border-top: "+this.btnLayerChildBorderTop+";border-left: "+this.btnLayerChildBorderLeft+";margin: "+this.btnLayerChildMargin+";top: "+this.btnLayerChildTop+";bottom: "+this.btnLayerChildBottom+";left: "+this.btnLayerChildLeft+";right: "+this.btnLayerChildRight+";";if(a.isVertical){d[b].style.left="0";d[b].style.right="0";d[b].style.margin="0 auto";if(b===0){d[b].style.top=a.top||"2%";c[b].style.webkitTransform="rotate(45deg)"}else{d[b].style.bottom=a.bottom||"2%";c[b].style.webkitTransform="rotate(225deg)"}}else{d[b].style.top="0";d[b].style.bottom="0";d[b].style.margin="auto 0";if(b===0){d[b].style.left=a.left||"5%";c[b].style.webkitTransform="rotate(-45deg)"}else{d[b].style.right=a.right||"5%";c[b].style.webkitTransform="rotate(135deg)"}}d[b].direction=b;this._bindTouchEvent(d[b],this._bindTouchEventBtn);if(!this.btnMenuOpts.isLooping){if(this.slideIndex===0){d[0].style.display="none"}}d[b].appendChild(c[b]);e.parentNode.insertBefore(d[b],e.nextSibling)}this.buttonLayer=d},_setBtnAttr:function(){var a=this.btnMenuOpts;var c=a.width||"3em";var b=a.border||"2px solid #fff";this.btnLayerPosition="absolute";this.btnLayerWidth=c;this.btnLayerHeight=c;this.btnLayerCursor="pointer";this.btnLayerBGColor=a.backgroundColor||"#777";this.btnLayerChildPosition="absolute";this.btnLayerChildWidth="50%";this.btnLayerChildHeight="50%";this.btnLayerChildBorderTop=b;this.btnLayerChildBorderLeft=b;this.btnLayerChildTop="0";this.btnLayerChildBottom="0";this.btnLayerChildLeft="0";this.btnLayerChildRight="0";this.btnLayerChildMargin="auto"},changeIndexBtn:function(){var b=this.btnMenuOpts;var a=this.data.length;this.buttonLayer[0].style.display="block";this.buttonLayer[1].style.display="block";if(!b.isLooping){if(this.slideIndex===a-1){this.buttonLayer[1].style.display="none"}else{if(this.slideIndex===0){this.buttonLayer[0].style.display="none"}}}},_bindTouchEventBtn:function(a){var b=this.self;b.direction=this.direction;if(b.direction===0){b.direction=-1}else{b.direction=1}b.slideTo(b.slideIndex+b.direction)},_bindTouchEvent:function(b,a){b.self=this;if(this._checkDevice()===true){b.addEventListener("touchstart",a,false)}else{b.addEventListener("click",a,false)}}});